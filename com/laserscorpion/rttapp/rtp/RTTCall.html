<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_71) on Tue Sep 13 14:59:22 EDT 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>RTTCall</title>
<meta name="date" content="2016-09-13">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RTTCall";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/laserscorpion/rttapp/rtp/RTTCall.html" target="_top">Frames</a></li>
<li><a href="RTTCall.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.laserscorpion.rttapp.rtp</div>
<h2 title="Class RTTCall" class="title">Class RTTCall</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.laserscorpion.rttapp.rtp.RTTCall</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">RTTCall</span>
extends java.lang.Object</pre>
<div class="block"><p>RTTcall is one of the core classes, establishing the RTP session and interfacing with Omnitor's
 RFC 4103 implementation. It communicates in both directions with the layers above and below, amd
 coordinates the two RTP libraries underneath (JRTP and Omnitor t140).  It receives information
 from the SIP layer above about how to set up the call, and then initiates the RTP session.
 It then continuously receives text input from above, which it places into the Omnitor buffer, to
 be sent by the lower layer. It also listens for incoming RT text from Omnitor's library, and
 passes it up to any TextListeners that are registered with it (this may be something of a layer
 violation, though TextListener is within the SIP package).</p>

 <pre>
     --------------
     |  UI layer  |
     --------------
            |
     --------------
     | SIP layer  |  (SipClient)
     --------------
            |
     <strong>--------------
     | Call layer |  (RTTCall)
     --------------</strong>
            |
     --------------
     | RTP layer  |  (JRTP, Omnitor t140)
     --------------
 </pre>
 <br>
 <p>RTTCall stores the state of one call at a time, which can be calling (outgoing),
 ringing (incoming), connected, or ended.  A new one should be created for each logical
 call, since each one needs its own new RTP session. Since the state transitions are caused by
 user interaction or SIP messages, the upper layer needs to tell RTTCall when to change state, by
 calling methods such as setRinging(). State changes span layers to some extent, so the RTTCall
 stores some SIP requests and events involved in its own creation, for later reference when the
 SIP layer is sending messages within dialogs or transactions. The upper layer may therefore
 need to call such methods as getInviteTransaction() or getCreationEvent().</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#RTTCall-android.javax.sip.message.Request-android.javax.sip.Dialog-java.util.List-">RTTCall</a></span>(android.javax.sip.message.Request&nbsp;creationRequest,
       android.javax.sip.Dialog&nbsp;dialog,
       java.util.List&lt;<a href="../../../../com/laserscorpion/rttapp/sip/TextListener.html" title="interface in com.laserscorpion.rttapp.sip">TextListener</a>&gt;&nbsp;messageReceivers)</code>
<div class="block">Use this constructor for an outgoing call.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#RTTCall-android.javax.sip.RequestEvent-android.javax.sip.ServerTransaction-java.util.List-">RTTCall</a></span>(android.javax.sip.RequestEvent&nbsp;requestEvent,
       android.javax.sip.ServerTransaction&nbsp;transaction,
       java.util.List&lt;<a href="../../../../com/laserscorpion/rttapp/sip/TextListener.html" title="interface in com.laserscorpion.rttapp.sip">TextListener</a>&gt;&nbsp;messageReceivers)</code>
<div class="block">Use this constructor for an incoming call.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#accept-java.lang.String-int-int-int-int-">accept</a></span>(java.lang.String&nbsp;remoteIP,
      int&nbsp;remotePort,
      int&nbsp;localRTPPort,
      int&nbsp;t140MapNum,
      int&nbsp;t140RedMapNum)</code>
<div class="block">Connect an incoming call that is currently ringing.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#addDialog-android.javax.sip.Dialog-">addDialog</a></span>(android.javax.sip.Dialog&nbsp;dialog)</code>
<div class="block">Use this to change the Dialog associated with the call, especially if one was not
 available at creation of the RTTCall.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#addInviteTransaction-android.javax.sip.ClientTransaction-">addInviteTransaction</a></span>(android.javax.sip.ClientTransaction&nbsp;transaction)</code>
<div class="block">Use this to change the ClientTransaction that was used to send the original INVITE request
 e.g.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#callAccepted-java.lang.String-int-int-int-int-">callAccepted</a></span>(java.lang.String&nbsp;remoteIP,
            int&nbsp;remotePort,
            int&nbsp;localRTPPort,
            int&nbsp;t140MapNum,
            int&nbsp;t140RedMapNum)</code>
<div class="block">Connect an outgoing call has been accepted by the remote party, to set up the RTP
 session according to the agreed parameters.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#end--">end</a></span>()</code>
<div class="block">End a call at any stage.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#equals-com.laserscorpion.rttapp.rtp.RTTCall-">equals</a></span>(<a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html" title="class in com.laserscorpion.rttapp.rtp">RTTCall</a>&nbsp;otherCall)</code>
<div class="block">This is not a true equals() override, since it does not compare
 arbitrary objects.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>android.javax.sip.RequestEvent</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#getCreationEvent--">getCreationEvent</a></span>()</code>
<div class="block">This method returns the incoming RequestEvent that created the call, if any.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>android.javax.sip.message.Request</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#getCreationRequest--">getCreationRequest</a></span>()</code>
<div class="block">This method returns the outgoing Request that created the call, if any.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>android.javax.sip.Dialog</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#getDialog--">getDialog</a></span>()</code>
<div class="block">Get the dialog for an ongoing connected call, so as to send more messages in that dialog,
 for example when sending BYE.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>android.javax.sip.ClientTransaction</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#getInviteClientTransaction--">getInviteClientTransaction</a></span>()</code>
<div class="block">Get the ClientTransaction from the original INVITE dialog of an outgoing call.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>android.javax.sip.ServerTransaction</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#getInviteTransaction--">getInviteTransaction</a></span>()</code>
<div class="block">Get the ServerTransaction from the original INVITE dialog of an incoming call.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>android.javax.sip.address.Address</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#getOtherParty--">getOtherParty</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#isCalling--">isCalling</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#isConnected--">isConnected</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#isRinging--">isRinging</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#resetMessageReceivers-java.util.List-">resetMessageReceivers</a></span>(java.util.List&lt;<a href="../../../../com/laserscorpion/rttapp/sip/TextListener.html" title="interface in com.laserscorpion.rttapp.sip">TextListener</a>&gt;&nbsp;messageReceivers)</code>
<div class="block">Replace the existing list of TextListeners with the new one, if the list of current activities
 changes.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#sendText-java.lang.String-">sendText</a></span>(java.lang.String&nbsp;text)</code>
<div class="block">The most important method: send real-time text in the connected call.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#setCalling--">setCalling</a></span>()</code>
<div class="block">Set the call to the calling state, when the SIP INVITE has been sent and before the other
 party has sent a final response.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html#setRinging--">setRinging</a></span>()</code>
<div class="block">Set the call to the ringing state after the incoming INVITE is received but before the user
 has accepted or declined it.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RTTCall-android.javax.sip.RequestEvent-android.javax.sip.ServerTransaction-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RTTCall</h4>
<pre>public&nbsp;RTTCall(android.javax.sip.RequestEvent&nbsp;requestEvent,
               android.javax.sip.ServerTransaction&nbsp;transaction,
               java.util.List&lt;<a href="../../../../com/laserscorpion/rttapp/sip/TextListener.html" title="interface in com.laserscorpion.rttapp.sip">TextListener</a>&gt;&nbsp;messageReceivers)</pre>
<div class="block">Use this constructor for an incoming call. The requestEvent is the incoming INVITE.
 The transaction is the ServerTransaction used to respond to the INVITE,
 for both 180 Ringing and the final response. If planning to send 180 Ringing,
 it must be sent already, so the ServerTransaction can be used here.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestEvent</code> - the incoming INVITE event</dd>
<dd><code>transaction</code> - used to send 180 Ringing, and the final response. null if no 180 has been
                    sent yet and therefore no transaction is used yet. In that case, only
                    one response can be sent,</dd>
<dd><code>messageReceivers</code> - the TextListeners that need to be notified when there is incoming text</dd>
</dl>
</li>
</ul>
<a name="RTTCall-android.javax.sip.message.Request-android.javax.sip.Dialog-java.util.List-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RTTCall</h4>
<pre>public&nbsp;RTTCall(android.javax.sip.message.Request&nbsp;creationRequest,
               android.javax.sip.Dialog&nbsp;dialog,
               java.util.List&lt;<a href="../../../../com/laserscorpion/rttapp/sip/TextListener.html" title="interface in com.laserscorpion.rttapp.sip">TextListener</a>&gt;&nbsp;messageReceivers)</pre>
<div class="block">Use this constructor for an outgoing call. Ideally you will pass in the dialog that is
 created for the call, but this may not be available yet,
 so you will need to call addDialog() in that case.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>creationRequest</code> - the INVITE Request sent to the other party to initiate the call</dd>
<dd><code>dialog</code> - the dialog that is already created for the call is available, or null if none yet</dd>
<dd><code>messageReceivers</code> - the TextListeners that need to be notified when there is incoming text</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInviteTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInviteTransaction</h4>
<pre>public&nbsp;android.javax.sip.ServerTransaction&nbsp;getInviteTransaction()</pre>
<div class="block">Get the ServerTransaction from the original INVITE dialog of an incoming call.
 This is useful when the transaction needs to be used in responding to the INVITE,
 which will likely happen well after it is initially received.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the transaction used to respond to the original INVITE, or null if none</dd>
</dl>
</li>
</ul>
<a name="getInviteClientTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInviteClientTransaction</h4>
<pre>public&nbsp;android.javax.sip.ClientTransaction&nbsp;getInviteClientTransaction()</pre>
<div class="block">Get the ClientTransaction from the original INVITE dialog of an outgoing call.
 This is useful when the transaction needs to be used again in cancelling the INVITE.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the transaction used to send the original INVITE, or null if none</dd>
</dl>
</li>
</ul>
<a name="addDialog-android.javax.sip.Dialog-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDialog</h4>
<pre>public&nbsp;void&nbsp;addDialog(android.javax.sip.Dialog&nbsp;dialog)</pre>
<div class="block">Use this to change the Dialog associated with the call, especially if one was not
 available at creation of the RTTCall.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dialog</code> - the new Dialog to associate with the call,</dd>
</dl>
</li>
</ul>
<a name="addInviteTransaction-android.javax.sip.ClientTransaction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addInviteTransaction</h4>
<pre>public&nbsp;void&nbsp;addInviteTransaction(android.javax.sip.ClientTransaction&nbsp;transaction)</pre>
<div class="block">Use this to change the ClientTransaction that was used to send the original INVITE request
 e.g. when sending that INVITE, or when sending another INVITE after authenticating</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transaction</code> - the new ClientTransaction to associate with the call</dd>
</dl>
</li>
</ul>
<a name="resetMessageReceivers-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetMessageReceivers</h4>
<pre>public&nbsp;void&nbsp;resetMessageReceivers(java.util.List&lt;<a href="../../../../com/laserscorpion/rttapp/sip/TextListener.html" title="interface in com.laserscorpion.rttapp.sip">TextListener</a>&gt;&nbsp;messageReceivers)</pre>
<div class="block">Replace the existing list of TextListeners with the new one, if the list of current activities
 changes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>messageReceivers</code> - the new TextListeners</dd>
</dl>
</li>
</ul>
<a name="getCreationEvent--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCreationEvent</h4>
<pre>public&nbsp;android.javax.sip.RequestEvent&nbsp;getCreationEvent()</pre>
<div class="block">This method returns the incoming RequestEvent that created the call, if any. This is useful
 in connecting the call. We need to store that event somewhere, since the call completion can
 only come after user interaction, which will take quite a while after the SIP event is received.
 Precondition: call was created by an incoming RequestEvent. If call
 was created by an outgoing request, will return null.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the incoming event that created the call, or null</dd>
</dl>
</li>
</ul>
<a name="getCreationRequest--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCreationRequest</h4>
<pre>public&nbsp;android.javax.sip.message.Request&nbsp;getCreationRequest()</pre>
<div class="block">This method returns the outgoing Request that created the call, if any. This
 Precondition: call was created by an outgoing Request. If call
 was created by an incoming request, will return null.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the outgoing Request that was sent to the other party when the call was created, if any</dd>
</dl>
</li>
</ul>
<a name="getDialog--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDialog</h4>
<pre>public&nbsp;android.javax.sip.Dialog&nbsp;getDialog()</pre>
<div class="block">Get the dialog for an ongoing connected call, so as to send more messages in that dialog,
 for example when sending BYE.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the dialog for the established call</dd>
</dl>
</li>
</ul>
<a name="equals-com.laserscorpion.rttapp.rtp.RTTCall-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre>public&nbsp;boolean&nbsp;equals(<a href="../../../../com/laserscorpion/rttapp/rtp/RTTCall.html" title="class in com.laserscorpion.rttapp.rtp">RTTCall</a>&nbsp;otherCall)</pre>
<div class="block">This is not a true equals() override, since it does not compare
 arbitrary objects. It can only be called to check equality of
 RTTCalls, which is based on the requests that create them.</div>
</li>
</ul>
<a name="setCalling--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCalling</h4>
<pre>public&nbsp;void&nbsp;setCalling()</pre>
<div class="block">Set the call to the calling state, when the SIP INVITE has been sent and before the other
 party has sent a final response.</div>
</li>
</ul>
<a name="setRinging--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRinging</h4>
<pre>public&nbsp;void&nbsp;setRinging()</pre>
<div class="block">Set the call to the ringing state after the incoming INVITE is received but before the user
 has accepted or declined it.</div>
</li>
</ul>
<a name="accept-java.lang.String-int-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accept</h4>
<pre>public&nbsp;void&nbsp;accept(java.lang.String&nbsp;remoteIP,
                   int&nbsp;remotePort,
                   int&nbsp;localRTPPort,
                   int&nbsp;t140MapNum,
                   int&nbsp;t140RedMapNum)
            throws java.lang.IllegalStateException,
                   gov.nist.jrtp.RtpException</pre>
<div class="block">Connect an incoming call that is currently ringing. Call this method when the SIP interactions
 indicate that the other party has accepted the call and is ready to receive text. Pass in the
 RTP parameters agreed to in the SDP interactions.
 Precondition: this call is currently in the ringing state
 Postcondition: this call is now in the connected state, and the RTP stream is set up</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>remoteIP</code> - the IP of the remote party for the RTP stream</dd>
<dd><code>remotePort</code> - the port of the remote party for the RTP stream</dd>
<dd><code>localRTPPort</code> - the local port to be used for the RTP stream</dd>
<dd><code>t140MapNum</code> - the RTP payload map number corresponding to t140 in the agreed session description</dd>
<dd><code>t140RedMapNum</code> - must be &lt;= 0 if not using redundancy! This is the RTP payload map number corresponding to
                      "red", the redundant media type, in the agreed session description</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if no call is currently ringing</dd>
<dd><code>gov.nist.jrtp.RtpException</code> - if the call can't be connected</dd>
</dl>
</li>
</ul>
<a name="callAccepted-java.lang.String-int-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>callAccepted</h4>
<pre>public&nbsp;void&nbsp;callAccepted(java.lang.String&nbsp;remoteIP,
                         int&nbsp;remotePort,
                         int&nbsp;localRTPPort,
                         int&nbsp;t140MapNum,
                         int&nbsp;t140RedMapNum)
                  throws java.lang.IllegalStateException,
                         gov.nist.jrtp.RtpException</pre>
<div class="block">Connect an outgoing call has been accepted by the remote party, to set up the RTP
 session according to the agreed parameters.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>remoteIP</code> - the IP of the remote party for the RTP stream</dd>
<dd><code>remotePort</code> - the port of the remote party for the RTP stream</dd>
<dd><code>localRTPPort</code> - the local port to be used for the RTP stream</dd>
<dd><code>t140MapNum</code> - the RTP payload map number corresponding to t140 in the agreed session description</dd>
<dd><code>t140RedMapNum</code> - must be &lt;= 0 if not using redundancy! This is the RTP payload map number corresponding to
                      "red", the redundant media type, in the agreed session description</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if no call is currently outgoing</dd>
<dd><code>gov.nist.jrtp.RtpException</code> - if the call can't be connected</dd>
</dl>
</li>
</ul>
<a name="sendText-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendText</h4>
<pre>public&nbsp;void&nbsp;sendText(java.lang.String&nbsp;text)</pre>
<div class="block">The most important method: send real-time text in the connected call. Queued outgoing text
 is sent after the buffering interval, so calling this method more often than that interval
 will add text to the buffer. The buffering interval is short enough that a human does not
 notice.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>text</code> - the characters to send</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the call is not connected yet</dd>
</dl>
</li>
</ul>
<a name="end--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>end</h4>
<pre>public&nbsp;void&nbsp;end()</pre>
<div class="block">End a call at any stage. Invoking multiple times has no effect; the
 first invocation ends the session. This method must be called or else the RTP session will
 remain open.</div>
</li>
</ul>
<a name="isRinging--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRinging</h4>
<pre>public&nbsp;boolean&nbsp;isRinging()</pre>
</li>
</ul>
<a name="isConnected--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isConnected</h4>
<pre>public&nbsp;boolean&nbsp;isConnected()</pre>
</li>
</ul>
<a name="isCalling--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCalling</h4>
<pre>public&nbsp;boolean&nbsp;isCalling()</pre>
</li>
</ul>
<a name="getOtherParty--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getOtherParty</h4>
<pre>public&nbsp;android.javax.sip.address.Address&nbsp;getOtherParty()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/laserscorpion/rttapp/rtp/RTTCall.html" target="_top">Frames</a></li>
<li><a href="RTTCall.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
